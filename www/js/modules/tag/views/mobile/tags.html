<ion-view view-title="{{label}}">
  <ion-content>
      <div class="item item-icon-left item-dark">
        <i class="icon ion-ios-pricetag"></i>
        {{tag.name}}
        <span ng-show="showIt" class="item-note" ng-click="editLabel()">Edit</span>
      </div>

    <ion-list class="list" show-delete="shouldShowDelete" can-swipe="listCanSwipe">
      <ul> 
        <li ng-repeat="tag in filteredTags" >
          <ion-item ng-class="{'item-positive':tag.id==selectedId}">
            <a ui-sref="app.tags({ id: tag.id })" class="item-icon-left item-icon-right item-stable">
              <i class="icon ion-ios-pricetag" ></i> 
                {{ tag.name }}
              <span class="badge badge-assertive">{{tag.children.length}}</span>
            </a>
            <ion-option-button class="button-assertive icon ion-edit" ng-click="edit($event,tag)"></ion-option-button>

            <ion-option-button class="button-assertive icon ion-trash-a" ng-click="remove(tag)"></ion-option-button>

          </ion-item>
        </li>
      </ul>  
    </ion-list>



    <!-- Partial for editing labels -->
    <form id="edit-tag" ng-show="isEditing">
      <label class="item item-input">
        <span class="input-label">Name</span>
        <input type="text" ng-model="selectedTag.name">
      </label>
      <label class="item item-input item-select">
        <span class="input-label">
          Parent
        </span>
        <select name="parent_id" ng-model="selectedTag.id">
          <option ng-repeat='tag in tags' value='{{tag.id}}'>{{tag.name}}</option>
        </select>
      </label>
      <div class='row'>
        <div class='col'></div>
        <div class='col'>
      <button class="button button-small  button-positive" ng-click="save()">Save</button>
      <button class="button button-small button-negative" ng-click="cancel()">Cancel</button>
    </div>
    <div class='col'></div>
    </div>
    </form>
  </ion-content>
</ion-view>
